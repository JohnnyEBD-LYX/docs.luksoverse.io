"use strict";(self.webpackChunkcommunity_docs=self.webpackChunkcommunity_docs||[]).push([[9267],{3905:(e,t,o)=>{o.d(t,{Zo:()=>u,kt:()=>m});var a=o(7294);function n(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function r(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,a)}return o}function i(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?r(Object(o),!0).forEach((function(t){n(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):r(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}function l(e,t){if(null==e)return{};var o,a,n=function(e,t){if(null==e)return{};var o,a,n={},r=Object.keys(e);for(a=0;a<r.length;a++)o=r[a],t.indexOf(o)>=0||(n[o]=e[o]);return n}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)o=r[a],t.indexOf(o)>=0||Object.prototype.propertyIsEnumerable.call(e,o)&&(n[o]=e[o])}return n}var s=a.createContext({}),d=function(e){var t=a.useContext(s),o=t;return e&&(o="function"==typeof e?e(t):i(i({},t),e)),o},u=function(e){var t=d(e.components);return a.createElement(s.Provider,{value:t},e.children)},c={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},p=a.forwardRef((function(e,t){var o=e.components,n=e.mdxType,r=e.originalType,s=e.parentName,u=l(e,["components","mdxType","originalType","parentName"]),p=d(o),m=n,k=p["".concat(s,".").concat(m)]||p[m]||c[m]||r;return o?a.createElement(k,i(i({ref:t},u),{},{components:o})):a.createElement(k,i({ref:t},u))}));function m(e,t){var o=arguments,n=t&&t.mdxType;if("string"==typeof e||n){var r=o.length,i=new Array(r);i[0]=p;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l.mdxType="string"==typeof e?e:n,i[1]=l;for(var d=2;d<r;d++)i[d]=o[d];return a.createElement.apply(null,i)}return a.createElement.apply(null,o)}p.displayName="MDXCreateElement"},3297:(e,t,o)=>{o.r(t),o.d(t,{assets:()=>s,contentTitle:()=>i,default:()=>c,frontMatter:()=>r,metadata:()=>l,toc:()=>d});var a=o(7462),n=(o(7294),o(3905));const r={},i=void 0,l={unversionedId:"complete-node-guide/blockchain-clients/validator-setup",id:"complete-node-guide/blockchain-clients/validator-setup",title:"validator-setup",description:"6.9 LUKSO CLI Validator Setup",source:"@site/docs/complete-node-guide/6-blockchain-clients/09-validator-setup.md",sourceDirName:"complete-node-guide/6-blockchain-clients",slug:"/complete-node-guide/blockchain-clients/validator-setup",permalink:"/docs/complete-node-guide/blockchain-clients/validator-setup",draft:!1,editUrl:"https://github.com/Luksoverse/community-docs/tree/main/packages/create-docusaurus/templates/shared/docs/complete-node-guide/6-blockchain-clients/09-validator-setup.md",tags:[],version:"current",sidebarPosition:9,frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"cli-setup",permalink:"/docs/complete-node-guide/blockchain-clients/cli-setup"},next:{title:"peer-modification",permalink:"/docs/complete-node-guide/blockchain-clients/peer-modification"}},s={},d=[{value:"6.9 LUKSO CLI Validator Setup",id:"69-lukso-cli-validator-setup",level:2},{value:"6.9.1 Import Mainnet Keys",id:"691-import-mainnet-keys",level:3},{value:"Secure Copy Protocol",id:"secure-copy-protocol",level:4},{value:"Validator Folder Structure",id:"validator-folder-structure",level:4},{value:"List Imported Mainnet Accounts",id:"list-imported-mainnet-accounts",level:4},{value:"6.9.2 Import Testnet Keys",id:"692-import-testnet-keys",level:3},{value:"Secure Copy Protocol",id:"secure-copy-protocol-1",level:4},{value:"Validator Folder Structure",id:"validator-folder-structure-1",level:4},{value:"6.9.3 List Imported Testnet Accounts",id:"693-list-imported-testnet-accounts",level:3},{value:"6.9.4 Removing the Key Folder",id:"694-removing-the-key-folder",level:3},{value:"6.9.5 Starting the Validator",id:"695-starting-the-validator",level:3},{value:"Starting up mainnet validator",id:"starting-up-mainnet-validator",level:5},{value:"Starting up testnet validator",id:"starting-up-testnet-validator",level:5}],u={toc:d};function c(e){let{components:t,...o}=e;return(0,n.kt)("wrapper",(0,a.Z)({},u,o,{components:t,mdxType:"MDXLayout"}),(0,n.kt)("h2",{id:"69-lukso-cli-validator-setup"},"6.9 LUKSO CLI Validator Setup"),(0,n.kt)("p",null,"If the the network started correctly and was syncing, we are able to continue setting up your validator if you would like to participate in the consensus of the blockchain."),(0,n.kt)("h3",{id:"691-import-mainnet-keys"},"6.9.1 Import Mainnet Keys"),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},"If you want to import testnet validator keys, have a look at the ",(0,n.kt)("a",{parentName:"p",href:"#692-import-testnet-keys"},"Importing Testnet Keys")," guide.")),(0,n.kt)("p",null,"Only validators that deposited LYXe to the ",(0,n.kt)("a",{parentName:"p",href:"https://etherscan.io/address/0x42000421dd80D1e90E56E87e6eE18D7770b9F8cC#code"},"Genesis Deposit Contract")," before it was frozen on May 9th 2023 can run the back structure of the network until the LYXe Migration is live on the LUKSO blockchain. The migration is ",(0,n.kt)("a",{parentName:"p",href:"https://medium.com/lukso/its-happening-the-genesis-validators-are-coming-ce5e07935df6"},"expected")," around one month after the initial network start."),(0,n.kt)("p",null,"Visit the official ",(0,n.kt)("a",{parentName:"p",href:"https://deposit.mainnet.lukso.network/"},"Deposit Launchpad")," and cautiously go through the process of generating keys and depositing stake to them, in case you have not already."),(0,n.kt)("ol",null,(0,n.kt)("li",{parentName:"ol"},"Guide: ",(0,n.kt)("a",{parentName:"li",href:"/validator-key-generation/"},"Generate Deposit Keys"),"."),(0,n.kt)("li",{parentName:"ol"},"Guide: ",(0,n.kt)("a",{parentName:"li",href:"/validator-key-stake/"},"Deposit Stake in LYXe"),".")),(0,n.kt)("p",null,"Copy your folder(s) of your deposit keys from your personal computer into the working directory of your node."),(0,n.kt)("h4",{id:"secure-copy-protocol"},"Secure Copy Protocol"),(0,n.kt)("p",null,"SCP is a network protocol that enables secure file transfers between hosts on a network. It uses SSH for data transfer and utilizes the same mechanisms for authentication, thereby ensuring the authenticity and confidentiality of the data in transit."),(0,n.kt)("p",null,"For secure data transfer over the internet or within unsecured networks, SCP is a reliable and secure choice due to its underlying SSH protocol which encrypts the data in transit."),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-sh"},"scp -i ~/.ssh/<ssh-key> -r <local-path-to-key-folder> <user-name>@<node-ip-address>:<node-path-to-node-folder>/<keyfolder-name>\n")),(0,n.kt)("p",null,"Afterwards, import your keys within the LUKSO CLI. You will be asked for your folder with your validator keys and a new password for your validator node, needed to secure the wallet and restart the validator later on."),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},"If you have multiple key folders, make sure to run the ",(0,n.kt)("inlineCode",{parentName:"p"},"lukso validator import")," command multiple times.")),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-sh"},'# Import validator keys for mainnet\nlukso validator import --validator-keys "./<key-folder-name>"\n')),(0,n.kt)("h4",{id:"validator-folder-structure"},"Validator Folder Structure"),(0,n.kt)("p",null,"The import command will generate two new folders within the working directory: The keystore and the validator wallet."),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-text"},"lukso-node\n...\n|\n\u251c\u2500\u2500\u2500mainnet-keystore                        // Mainnet Validator Data\n\u2502   \u251c\u2500\u2500\u2500keys                                // Encrypted Private Keys\n\u2502   \u251c\u2500\u2500\u2500...                                 // Files for Signature Creation\n|   \u251c\u2500\u2500\u2500pubkeys.json                        // Validator Public Keys\n|   \u251c\u2500\u2500\u2500deposit_data.json                   // Deposit JSON for Validators\n|   \u2514\u2500\u2500\u2500node_config.yaml                    // Node Configuration File\n|\n\u251c\u2500\u2500\u2500mainnet-wallet                          // Mainnet Transaction Data\n|\n...\n")),(0,n.kt)("h4",{id:"list-imported-mainnet-accounts"},"List Imported Mainnet Accounts"),(0,n.kt)("p",null,"After importing one or multiple folders, you can check your imported keys:"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-sh"},'# LUKSO CLI v. 0.6.0+\nlukso validator list --mainnet\n\n# Lukso CLI <0.6.0\nvalidator accounts list --wallet-dir "mainnet-keystore"\n')),(0,n.kt)("h3",{id:"692-import-testnet-keys"},"6.9.2 Import Testnet Keys"),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},"If you want to import testnet validator keys, have a look at the ",(0,n.kt)("a",{parentName:"p",href:"#691-import-mainnet-keys"},"Importing Mainnet Keys")," guide.")),(0,n.kt)("p",null,"Testnet validators need to be whitelisted as they are seen as core members and organizations wanting to run and maintain their LUKSO Testnet node in a stable environment over a long period to ensure healthy uptimes, stability, and quick response times from clients as demand from developers rises."),(0,n.kt)("p",null,"If you want to become a whitelisted validator on our testnet, prepare your validator keys, set up your node environment, and contact ",(0,n.kt)("inlineCode",{parentName:"p"},"testnet-validators@lukso.network"),". You will have to send your Ethereum address and some more details about your setup and involvement in the developer/network community. If you get whitelisted, you will also get a certain amount of LYXt to deposit your keys."),(0,n.kt)("p",null,"Visit the official ",(0,n.kt)("a",{parentName:"p",href:"https://deposit.testnet.lukso.network/"},"Testnet Deposit Launchpad")," and cautiously go through the process of generating keys and depositing stake to them, in case you have not already."),(0,n.kt)("ol",null,(0,n.kt)("li",{parentName:"ol"},"Guide: ",(0,n.kt)("a",{parentName:"li",href:"/validator-key-generation/"},"Generate Deposit Keys"),"."),(0,n.kt)("li",{parentName:"ol"},"Guide: ",(0,n.kt)("a",{parentName:"li",href:"/validator-key-stake/"},"Deposit Stake in LYXt"),".")),(0,n.kt)("p",null,"Copy your folder(s) of your deposit keys from your personal computer into the working directory of your node."),(0,n.kt)("h4",{id:"secure-copy-protocol-1"},"Secure Copy Protocol"),(0,n.kt)("p",null,"SCP is a network protocol that enables secure file transfers between hosts on a network. It uses SSH for data transfer and utilizes the same mechanisms for authentication, thereby ensuring the authenticity and confidentiality of the data in transit."),(0,n.kt)("p",null,"For secure data transfer over the internet or within unsecured networks, SCP is a reliable and secure choice due to its underlying SSH protocol which encrypts the data in transit."),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-sh"},"scp -i ~/.ssh/<ssh-key> -r <local-path-to-key-folder> <user-name>@<node-ip-address>:~/<node-folder>/<keyfolder-name>\n")),(0,n.kt)("p",null,"Afterwards, import your keys within the LUKSO CLI. You will be asked for your folder with your validator keys and a new password for your validator node, needed to secure the wallet and restart the validator later on."),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},"If you have multiple key folders, make sure to run the ",(0,n.kt)("inlineCode",{parentName:"p"},"lukso validator import")," command multiple times.")),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-sh"},'# Import validator keys for testnet\nlukso validator import --testnet --validator-keys "./<key-folder-name>"\n')),(0,n.kt)("h4",{id:"validator-folder-structure-1"},"Validator Folder Structure"),(0,n.kt)("p",null,"The import command will generate two new folders within the working directory: The keystore and the validator wallet."),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-text"},"lukso-node\n...\n|\n\u251c\u2500\u2500\u2500testnet-keystore                        // Testnet Validator Data\n\u2502   \u251c\u2500\u2500\u2500keys                                // Encrypted Private Keys\n\u2502   \u251c\u2500\u2500\u2500...                                 // Files for Signature Creation\n|   \u251c\u2500\u2500\u2500pubkeys.json                        // Validator Public Keys\n|   \u251c\u2500\u2500\u2500deposit_data.json                   // Deposit JSON for Validators\n|   \u2514\u2500\u2500\u2500node_config.yaml                    // Node Configuration File\n|\n\u251c\u2500\u2500\u2500testnet-wallet                          // Testnet Transaction Data\n|\n...\n")),(0,n.kt)("h3",{id:"693-list-imported-testnet-accounts"},"6.9.3 List Imported Testnet Accounts"),(0,n.kt)("p",null,"After importing one or multiple folders, you can check your imported keys:"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-sh"},'# LUKSO CLI v. 0.6.0+\nlukso validator list --testnet\n\n# Lukso CLI <0.6.0\nvalidator accounts list --wallet-dir "testnet-keystore"\n')),(0,n.kt)("h3",{id:"694-removing-the-key-folder"},"6.9.4 Removing the Key Folder"),(0,n.kt)("p",null,"If your imported keys match the ones in the original folder you used to import, you can delete the folder used for it. You wont need the original files anymore."),(0,n.kt)("p",null,"You can use the ",(0,n.kt)("inlineCode",{parentName:"p"},"rm")," command, used to remove files and directories while using the ",(0,n.kt)("inlineCode",{parentName:"p"},"-r")," recursive method. It will assure to remove directories and their contents within the pointed folder. You can also skip the confirmation questions or file errors using ",(0,n.kt)("inlineCode",{parentName:"p"},"-rf")," instead. Make sure to adjust the path to your key-folder."),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-sh"},"rm -rf ./<validator-key-folder>\n")),(0,n.kt)("h3",{id:"695-starting-the-validator"},"6.9.5 Starting the Validator"),(0,n.kt)("p",null,"After importing your keys you can start the node with the validator functionality. If the node is already synced and running, the ",(0,n.kt)("inlineCode",{parentName:"p"},"lukso start")," command will do a restart automatically."),(0,n.kt)("p",null,"In order to start the validator, you have to pass a minimum fo two flags:"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"--validator"),": Not only (re-)starts the installed and configured clients including the validator"),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"transaction-fee-recipient"),": Your transaction fee recipient address, which will receive all block rewards and tips from transactions. This could be any Ethereum address you have control over: MetaMask, Ledger, or any other wallet that has the functionality to connect with LUKSO or custom networks. Ledger accounts, for instance, are secure and can be imported into MetaMask to send transactions on custom networks.")),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},"If you want to set custom flags to the start command, like the graffiti from the previous section or a custom stat page connection, make sure to add them to the following commands:")),(0,n.kt)("h5",{id:"starting-up-mainnet-validator"},"Starting up mainnet validator"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-sh"},'lukso start --validator --transaction-fee-recipient "<transaction-fee-recipient-address>"\n')),(0,n.kt)("h5",{id:"starting-up-testnet-validator"},"Starting up testnet validator"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-sh"},'lukso start --validator --transaction-fee-recipient "<transaction-fee-recipient-address>" --testnet\n')))}c.isMDXComponent=!0}}]);